<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:xamarinapp="clr-namespace:XamarinApp"
             x:Class="XamarinApp.StatusPage"
             Title="Status">
  <ContentPage.Content>
    <StackLayout BackgroundColor="Gray">
      <StackLayout.Resources>
        <Style TargetType="Label">
          <Setter Property="VerticalOptions" Value="Center"/>
          <Setter Property="TextColor" Value="White"/>
        </Style>
      </StackLayout.Resources>
      <StackLayout x:Name="StackFormat" Orientation="Vertical">

        <Grid HorizontalOptions="FillAndExpand" VerticalOptions="FillAndExpand" BackgroundColor="DarkRed" Padding="10">
          <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
          </Grid.RowDefinitions>
          <Grid Grid.Row="0" VerticalOptions="FillAndExpand" BackgroundColor="DimGray">
            <Grid.ColumnDefinitions>
              <ColumnDefinition Width="Auto" />
              <ColumnDefinition Width="*" />
              <ColumnDefinition Width="Auto" />
              <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
              <RowDefinition Height="Auto"/>
              <RowDefinition Height="*"/>
              <RowDefinition Height="Auto"/>
              <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            <!--https://icon-icons.com/de-->
            <Image Grid.Row="0" Grid.Column="0" Grid.RowSpan="1" Source="Weather_01.png" Aspect="AspectFill" WidthRequest="64" HorizontalOptions="Start" VerticalOptions="Start"/>
            <Label Grid.Row="0" Grid.Column="1" Text="{Binding Mower.Name}" HorizontalOptions="Center" TextColor="Yellow" FontSize="Title" />
            <StackLayout Grid.Row="0" Grid.Column="2" Grid.RowSpan="2" Grid.ColumnSpan="2">
              <Image x:Name="ImageWifi" Source="Wifi_Gray.png" WidthRequest="48" />
              <Label Text="{Binding Mower.Rrsi}" HorizontalOptions="Center"/>
            </StackLayout>
            
            <Image Grid.Row="1" Grid.Column="0" Grid.RowSpan="3" Grid.ColumnSpan="2" Source="Mower.png" Aspect="AspectFit" VerticalOptions="End"/>
            
            <Label Grid.Row="2" Grid.Column="2" Text="SP" />
            <Label Grid.Row="2" Grid.Column="3" Text="{Binding Mower.Startpoint,FallbackValue=0}" />
            <Label Grid.Row="3" Grid.Column="2" Text="FW" />
            <Label Grid.Row="3" Grid.Column="3" Text="{Binding Mower.Firmware, FallbackValue=0.12}" />
          </Grid>

          <StackLayout Grid.Row="1" Orientation="Horizontal" HorizontalOptions="Center">
            <Label Text="{Binding Mower.State, FallbackValue=State}" HorizontalTextAlignment="End"/>
            <Label Text="{Binding Mower.Error, FallbackValue=Error}" HorizontalTextAlignment="Start"/>
          </StackLayout>

          <Grid Grid.Row="2">
            <Grid.Resources>
              <Style TargetType="Label">
                <Setter Property="TextColor" Value="Black"/>
              </Style>
            </Grid.Resources>
            <Grid.ColumnDefinitions>
              <ColumnDefinition Width="*" />
              <ColumnDefinition Width="Auto" />
              <ColumnDefinition Width="Auto" />
              <ColumnDefinition Width="Auto" />
              <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
              <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>
            <Image Grid.Column="0" Grid.ColumnSpan="5" Source="Accu_Back.png" Aspect="Fill" />
            <Label Grid.Column="1" Text="Akkumulator: " VerticalOptions="Center" />
            <Label Grid.Column="2" Text='{Binding Mower.Accu.Volt, StringFormat="{0}V"}' VerticalOptions="Center" />
            <Label Grid.Column="3" Text="{Binding Mower.Accu.Temp, StringFormat='{0}°'}" VerticalOptions="Center" />
          </Grid>

          <Grid Grid.Row="3">
            <Grid.Resources>
              <Style TargetType="Label">
                <Setter Property="TextColor" Value="Black"/>
              </Style>
            </Grid.Resources>
            <Grid.ColumnDefinitions>
              <ColumnDefinition Width="*" />
              <ColumnDefinition Width="Auto" />
              <ColumnDefinition Width="Auto" />
              <ColumnDefinition Width="Auto" />
              <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
              <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>
            <Image Grid.Column="0" Grid.ColumnSpan="5" Source="Work_Back.png" Aspect="Fill" />
            <Label Grid.Column="1" Text="Arbeitszeit: " VerticalOptions="Center" />
            <Label Grid.Column="2" Text='{Binding Mower.Start, StringFormat="{0}"}' VerticalOptions="Center" />
            <Label Grid.Column="3" Text="{Binding Mower.Duration, StringFormat='{0}'}" VerticalOptions="Center" />
          </Grid>
        </Grid>

        <StackLayout VerticalOptions="FillAndExpand" Spacing="5" BackgroundColor="DarkBlue">
          <StackLayout x:Name="StackOrient" Orientation="Horizontal" HorizontalOptions="FillAndExpand" VerticalOptions="FillAndExpand" BackgroundColor="DimGray">
            <StackLayout x:Name="StackPitch" Orientation="Vertical" HorizontalOptions="CenterAndExpand">
              <Image Source="Orient_Pitch.png" Aspect="AspectFit"/>
              <Label Text='{Binding Mower.Pitch, StringFormat="Steigung: {0}°"}' HorizontalOptions="CenterAndExpand"/>
            </StackLayout>
            <StackLayout x:Name="StackRoll" Orientation="Vertical" HorizontalOptions="CenterAndExpand">
              <Image Source="Orient_Roll.png" Aspect="AspectFit"/>
              <Label Text='{Binding Mower.Roll, StringFormat="Neigung: {0}°"}' HorizontalOptions="Center"/>
            </StackLayout>
            <StackLayout x:Name="StackYaw" Orientation="Vertical" HorizontalOptions="CenterAndExpand">
              <Image Source="Orient_Yaw.png" Aspect="AspectFit"/>
              <Label Text='{Binding Mower.Yaw, StringFormat="Richtung: {0}°"}' HorizontalOptions="Center"/>
            </StackLayout>
          </StackLayout>

          <StackLayout x:Name="StackStat" Orientation="Horizontal" HorizontalOptions="CenterAndExpand" BackgroundColor="DimGray">
            <StackLayout Orientation="Horizontal">
              <Label Text="T-Mäh:" HorizontalOptions="StartAndExpand"/>
              <Label Text='{Binding Mower.BladeTime, StringFormat="{0}", FallbackValue="0.00:00:00"}'/>
            </StackLayout>
            <StackLayout Orientation="Horizontal">
              <Label Text="S-Ges:" HorizontalOptions="StartAndExpand"/>
              <Label Text='{Binding Mower.Distance, StringFormat="{0:n0}m", FallbackValue=1000000}'/>
            </StackLayout>
            <StackLayout Orientation="Horizontal">
              <Label Text="T-Ges:" HorizontalOptions="StartAndExpand"/>
              <Label Text='{Binding Mower.WorkTime, StringFormat="{0}", FallbackValue="0.00:00:00"}'/>
            </StackLayout>
          </StackLayout>

          <StackLayout Orientation="Horizontal" HorizontalOptions="Center">
            <Label Text="{Binding Label.Stamp, FallbackValue='Letzte Aktualisierung: '}" FontSize="Micro" FontAttributes="Italic"/>
            <Label Text="{Binding Mower.Stamp, FallbackValue='19:9:19 19.9.19'}" FontSize="Micro" FontAttributes="Italic"/>
          </StackLayout>
        </StackLayout>

      </StackLayout>

      <StackLayout Orientation="Horizontal" BackgroundColor="DimGray" Padding="5">
        <ImageButton Command="{Binding PollCommand}" Source="Button_Home.png" BackgroundColor="Transparent" />
        <ImageButton Command="{Binding PollCommand}" Source="Button_Play.png" BackgroundColor="Transparent" />
        <ImageButton Command="{Binding PollCommand}" Source="Button_Pause.png" BackgroundColor="Transparent" />
        <ImageButton Command="{Binding PollCommand}" Source="Button_Poll.png" BackgroundColor="Transparent" />
      </StackLayout>
    </StackLayout>
  </ContentPage.Content>
</ContentPage>